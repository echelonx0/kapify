  <div class="smart-suggestions-container" *ngIf="showComponent()">
      <!-- Header -->
      <div class="suggestions-header">
        <div class="header-content">
          <div class="flex items-center gap-3">
            <div class="icon-wrapper">
              <lucide-icon [img]="SparklesIcon" [size]="24" class="text-primary-600" />
            </div>
            <div>
              <h2 class="text-2xl font-bold text-neutral-900">Recommended For You</h2>
              <p class="text-sm text-neutral-600 mt-1">
                {{ getSubheading() }}
              </p>
            </div>
          </div>
          
          <button 
            (click)="refresh()"
            [disabled]="isRefreshing()"
            class="refresh-button"
            [class.refreshing]="isRefreshing()">
            <lucide-icon [img]="RefreshIcon" [size]="16" />
            <span>Refresh</span>
          </button>
        </div>
      </div>

      <!-- Loading State -->
      <div *ngIf="isLoading()" class="loading-state">
        <div class="animate-pulse space-y-4">
          <div class="h-48 bg-neutral-200 rounded-xl"></div>
          <div class="h-48 bg-neutral-200 rounded-xl"></div>
          <div class="h-48 bg-neutral-200 rounded-xl"></div>
        </div>
      </div>

      <!-- Empty State -->
      <div *ngIf="!isLoading() && suggestions().length === 0" class="empty-state">
        <lucide-icon [img]="TrendingUpIcon" [size]="48" class="text-neutral-400 mb-4" />
        <h3 class="text-lg font-semibold text-neutral-900 mb-2">
          {{ getEmptyStateTitle() }}
        </h3>
        <p class="text-neutral-600 mb-4">
          {{ getEmptyStateMessage() }}
        </p>
        <button 
          (click)="viewAllOpportunities()"
          class="px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors">
          Browse All Opportunities
        </button>
      </div>

      <!-- Suggestions Grid -->
      <div *ngIf="!isLoading() && suggestions().length > 0" class="suggestions-grid">
        <app-suggestion-card
          *ngFor="let suggestion of suggestions(); trackBy: trackBySuggestion"
          [opportunity]="suggestion.opportunity"
          [matchScore]="suggestion.score"
          [matchReasons]="suggestion.matchReasons"
          [canApply]="canApply()"
          (apply)="onApply($event)"
          (viewDetails)="onViewDetails($event)"
          (signIn)="onSignInToApply()">
        </app-suggestion-card>
      </div>

      <!-- View All Link -->
      <div *ngIf="suggestions().length > 0" class="view-all-footer">
        <button 
          (click)="viewAllOpportunities()"
          class="view-all-button">
          View All Opportunities
          <lucide-icon [img]="TrendingUpIcon" [size]="16" />
        </button>
      </div>
    </div>