<div class="min-h-screen flex flex-col lg:flex-row bg-slate-50">
  <!-- Left Panel - Form (Mobile Full Width, Desktop 60%) -->
  <div
    class="w-full lg:w-3/5 flex items-center justify-center px-4 py-8 lg:px-8 lg:py-6 lg:bg-white"
  >
    <div class="w-full max-w-md">
      <!-- Logo & Header -->
      <div class="mb-8 lg:mb-12">
        <div class="flex items-center gap-3 mb-4">
          <div
            class="w-10 h-10 bg-teal-500 rounded-xl flex items-center justify-center flex-shrink-0"
          >
            <span class="text-white font-bold text-lg">K</span>
          </div>
          <h1 class="text-2xl lg:text-3xl font-bold text-slate-900">
            Welcome back
          </h1>
        </div>
      </div>

      <!-- Form -->
      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="space-y-5">
        <!-- Email Field -->
        <div>
          <label class="block text-sm font-semibold text-slate-900 mb-2">
            Email address
          </label>
          <input
            type="email"
            formControlName="email"
            placeholder="Enter your email"
            autocomplete="email"
            [class]="getInputClasses('email')"
          />
          @if (getFieldError('email')) {
          <p class="mt-1.5 text-sm text-red-700">
            {{ getFieldError("email") }}
          </p>
          }
        </div>

        <!-- Password Field -->
        <div>
          <label class="block text-sm font-semibold text-slate-900 mb-2">
            Password
          </label>
          <div class="relative">
            <input
              [type]="showPassword() ? 'text' : 'password'"
              formControlName="password"
              placeholder="Enter your password"
              autocomplete="current-password"
              [class]="getInputClasses('password')"
            />
            <button
              type="button"
              tabindex="-1"
              class="absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 transition-colors duration-200 flex-shrink-0 p-1"
              (click)="togglePasswordVisibility()"
              [attr.aria-label]="
                showPassword() ? 'Hide password' : 'Show password'
              "
            >
              @if (showPassword()) {
              <!-- Eye Off Icon (Hide) -->
              <svg
                class="w-5 h-5"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-4.803m5.596-3.856a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0M15 12a3 3 0 11-6 0 3 3 0 016 0zm6 0a9 9 0 11-18 0 9 9 0 0118 0z"
                />
              </svg>
              } @else {
              <!-- Eye Icon (Show) -->
              <svg
                class="w-5 h-5"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"
                />
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"
                />
              </svg>
              }
            </button>
          </div>
          @if (getFieldError('password')) {
          <p class="mt-1.5 text-sm text-red-700">
            {{ getFieldError("password") }}
          </p>
          }
        </div>

        <!-- Error Message -->
        @if (error()) {
        <div
          class="bg-red-50 border border-red-200/50 text-red-700 px-4 py-3 rounded-xl text-sm flex items-start gap-3"
        >
          <svg
            class="w-5 h-5 flex-shrink-0 mt-0.5"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M12 8v4m0 4v.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
            />
          </svg>
          <span>{{ error() }}</span>
        </div>
        }

        <!-- Submit Button -->
        <button
          type="submit"
          [disabled]="loginForm.invalid || isLoading()"
          class="w-full bg-teal-500 hover:bg-teal-600 active:bg-teal-700 disabled:bg-slate-100 disabled:text-slate-400 disabled:cursor-not-allowed text-white font-medium py-2.5 px-6 rounded-xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 flex items-center justify-center"
        >
          @if (isLoading()) {
          <div
            class="w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"
          ></div>
          <span>Signing in...</span>
          } @else {
          <span>Sign in</span>
          <svg
            class="w-5 h-5 ml-2"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M13 7l5 5m0 0l-5 5m5-5H6"
            />
          </svg>
          }
        </button>
      </form>

      <!-- Links Section -->
      <div class="mt-8 space-y-4">
        <!-- Sign Up & Forgot Password -->
        <div
          class="flex flex-col sm:flex-row items-center justify-between gap-4 text-sm"
        >
          <p class="text-slate-600">
            New here?
            <a
              routerLink="/register"
              class="text-teal-600 font-medium hover:text-teal-700 transition-colors duration-200"
            >
              Sign up
            </a>
          </p>

          <a
            routerLink="/passwordreset"
            class="text-teal-600 font-medium hover:text-teal-700 transition-colors duration-200"
          >
            Forgot password?
          </a>
        </div>

        <!-- Footer Legal Text -->
        <div class="mt-8 text-xs text-slate-600 leading-relaxed">
          Please review our
          <a
            href="/compliance/privacy"
            class="text-slate-900 font-semibold hover:underline"
            >Privacy Policy</a
          >
          and
          <a
            href="/compliance/terms"
            class="text-slate-900 font-semibold hover:underline"
            >Data Protection Policy</a
          >
          before using this platform. By logging in and continuing to use our
          services, you confirm that you have read, understood, and accepted our
          Privacy Policy. You also consent to the handling, storage, and sharing
          of your data strictly in accordance with these policies, and
          understand that your data will only be used within the platform as
          outlined.
        </div>
      </div>
    </div>
  </div>

  <!-- Right Panel - Image (Hidden Mobile, Show Desktop) -->
  <div class="hidden lg:flex lg:w-2/5 relative overflow-hidden bg-white">
    <img
      src="/images/auth-2.png"
      alt="Welcome back illustration"
      class="absolute inset-0 w-full h-full object-cover"
    />
    <div
      class="absolute inset-0 bg-gradient-to-br from-teal-500/10 to-teal-400/5"
    ></div>
  </div>
</div>
