<div class="p-6 space-y-6">
  <h1 class="text-2xl font-semibold text-gray-800">Applications Report</h1>

  <!-- Field Selector -->
  <div class="bg-white rounded-xl shadow p-4">
    <h2 class="font-medium mb-3">Select Fields</h2>
    <div class="grid grid-cols-2 md:grid-cols-3 gap-3">
      <label
        *ngFor="let field of fields"
        class="flex items-center gap-2 text-sm"
      >
        <input
          type="checkbox"
          class="rounded border-gray-300"
          [checked]="selectedFields().includes(field.key)"
          (change)="toggleField(field.key)"
        />
        {{ field.label }}
      </label>
    </div>

    <div class="mt-4 flex gap-3">
      <button
        class="px-4 py-2 bg-gray-800 text-white rounded-lg"
        (click)="saveDefault()"
      >
        Save Default View
      </button>
      <button
        class="px-4 py-2 bg-green-600 text-white rounded-lg"
        (click)="exportExcel()"
      >
        Export Excel
      </button>
      <button
        class="px-4 py-2 bg-red-600 text-white rounded-lg"
        (click)="exportPDF()"
      >
        Export PDF
      </button>
    </div>
  </div>

  <!-- Report Table -->
  <div class="bg-white rounded-xl shadow overflow-x-auto">
    <table class="min-w-full text-sm">
      <thead class="bg-gray-100">
        <tr>
          <th
            *ngFor="let col of displayedColumns()"
            class="px-4 py-3 text-left font-medium text-gray-600"
          >
            {{ col.label }}
          </th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let row of data()" class="border-t hover:bg-gray-50">
          <td *ngFor="let col of displayedColumns()" class="px-4 py-2">
            {{ row[col.key] || "â€”" }}
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
