<!-- src/app/admin/components/organization-verification/organization-verification.component.html -->
<div class="h-screen flex flex-col bg-neutral-50">
  <!-- Header with Stats -->
  <app-verification-header 
    [stats]="stats()" 
    (refreshRequested)="refreshData()">
  </app-verification-header>

  <!-- Main Split Panel Content -->
  <div class="flex-1 flex overflow-hidden verification-container">
    <!-- Left Panel - Organizations List -->
    <app-verification-sidebar
      class="w-1/3 border-r border-neutral-200 bg-white"
      [organizations]="filteredOrganizations()"
      [selectedOrganization]="selectedOrganization()"
      [isLoading]="isLoading()"
      [searchTerm]="searchTerm()"
      [statusFilter]="statusFilter()"
      (organizationSelected)="selectOrganization($event)"
      (searchChanged)="searchTerm.set($event)"
      (filterChanged)="statusFilter.set($event)">
    </app-verification-sidebar>

    <!-- Right Panel - Details -->
    <app-verification-details
      class="flex-1 bg-white"
      [selectedOrganization]="selectedOrganization()"
      [activeTab]="activeTab()"
      [documents]="documents()"
      [verificationThread]="verificationThread()"
      (tabChanged)="setActiveTab($event)"
      (approveRequested)="openApprovalModal()"
      (rejectRequested)="openRejectionModal()"
      (infoRequested)="openInfoRequestModal()">
    </app-verification-details>
  </div>

  <!-- Modals -->
  <app-verification-modals
    [showApprovalModal]="showApprovalModal()"
    [showRejectionModal]="showRejectionModal()"
    [showInfoRequestModal]="showInfoRequestModal()"
    [selectedOrganization]="selectedOrganization()"
    [approvalForm]="approvalForm"
    [rejectionForm]="rejectionForm"
    [infoRequestForm]="infoRequestForm"
    (modalClosed)="closeModal()"
    (organizationApproved)="approveOrganization()"
    (organizationRejected)="rejectOrganization()"
    (infoRequested)="requestMoreInfo()">
  </app-verification-modals>

  <!-- Error Toast -->
  <app-error-toast 
    *ngIf="error()" 
    [message]="error()!" 
    (dismissed)="error.set(null)">
  </app-error-toast>
</div>