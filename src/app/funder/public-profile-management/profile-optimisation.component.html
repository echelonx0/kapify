<div class="bg-white rounded-2xl border border-slate-200 shadow-[0_2px_10px_rgba(0,0,0,0.05)] p-8 transition-all duration-300">
  <!-- Header -->
  <div class="flex items-center gap-4 mb-8">
    <div class="w-12 h-12 bg-slate-100 rounded-xl flex items-center justify-center">
      <lucide-icon [img]="SparklesIcon" [size]="20" class="text-slate-700" />
    </div>
    <div>
      <h3 class="text-xl font-semibold text-slate-900 tracking-tight">Public Profile Assistant</h3>
      <p class="text-sm text-slate-500">Professional optimization</p>
    </div>
  </div>

  @if (!isExpanded()) {
    <!-- Collapsed -->
    <div class="space-y-6">
      <p class="text-sm leading-relaxed text-slate-600">
        Get a professionally researched and optimized profile in 24 hours
      </p>
      <div class="space-y-3">
        <div class="flex items-center gap-2 text-sm text-slate-700">
          <lucide-icon [img]="CheckIcon" [size]="14" class="text-slate-800" />
          <span>Website research & analysis</span>
        </div>
        <div class="flex items-center gap-2 text-sm text-slate-700">
          <lucide-icon [img]="CheckIcon" [size]="14" class="text-slate-800" />
          <span>Professional copywriting</span>
        </div>
        <div class="flex items-center gap-2 text-sm text-slate-700">
          <lucide-icon [img]="CheckIcon" [size]="14" class="text-slate-800" />
          <span>Industry benchmarking</span>
        </div>
      </div>
      <ui-button 
        variant="outline" 
        size="sm"
        class="w-full border-slate-300 text-slate-700 hover:bg-slate-50 rounded-lg font-medium transition-colors"
        (clicked)="toggleExpanded()"
      >
        Learn More
        <lucide-icon [img]="ArrowRightIcon" [size]="14" class="ml-2" />
      </ui-button>
    </div>
  } @else {
    <!-- Expanded -->
    <div class="space-y-8">
      <!-- Included -->
      <div class="bg-slate-50 rounded-xl p-5">
        <h4 class="font-medium text-slate-900 mb-3 text-sm uppercase tracking-wide">What's Included</h4>
        <div class="space-y-2 text-sm text-slate-700">
          <div class="flex items-center gap-2">
            <lucide-icon [img]="CheckIcon" [size]="12" class="text-slate-800" />
            <span>Deep research of your website & social presence</span>
          </div>
          <div class="flex items-center gap-2">
            <lucide-icon [img]="CheckIcon" [size]="12" class="text-slate-800" />
            <span>Professionally written profile content</span>
          </div>
          <div class="flex items-center gap-2">
            <lucide-icon [img]="CheckIcon" [size]="12" class="text-slate-800" />
            <span>Industry-specific optimization</span>
          </div>
          <div class="flex items-center gap-2">
            <lucide-icon [img]="CheckIcon" [size]="12" class="text-slate-800" />
            <span>Website improvement recommendations</span>
          </div>
        </div>
      </div>

      <!-- Form -->
      <form [formGroup]="optimizationForm" class="space-y-5">
        <div>
          <label class="block text-xs font-medium text-slate-600 mb-1">Organization Website *</label>
          <input
            type="url"
            formControlName="website"
            placeholder="https://your-organization.com"
            class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-500 text-sm"
          />
        </div>
        <div>
          <label class="block text-xs font-medium text-slate-600 mb-1">Additional Information</label>
          <textarea
            formControlName="additionalInfo"
            rows="2"
            placeholder="Any specific focus areas or achievements to highlight?"
            class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-500 text-sm"
          ></textarea>
        </div>
        <div>
          <label class="block text-xs font-medium text-slate-600 mb-1">Contact Email *</label>
          <input
            type="email"
            formControlName="email"
            placeholder="your@email.com"
            class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-500 text-sm"
          />
        </div>
      </form>

      <!-- Pricing -->
      <div class="border border-slate-200 rounded-xl p-5">
        <div class="flex items-center justify-between mb-3">
          <span class="text-sm font-medium text-slate-900">Professional Service</span>
          <div class="text-right">
            <div class="text-lg font-bold text-slate-900">R2,499</div>
            <div class="text-xs text-slate-500">one-time</div>
          </div>
        </div>
        <p class="text-xs text-slate-600 mb-4">Increases applications by 60% on average</p>
        
        <ui-button 
          variant="primary" 
          size="sm"
          class="w-full bg-slate-800 hover:bg-slate-900 text-white rounded-lg font-medium transition-colors"
          [disabled]="!isFormValid()"
          (clicked)="subscribe()"
        >
          Subscribe & Get Started
        </ui-button>
      </div>

      <!-- Trust -->
      <div class="flex items-center justify-center gap-6 text-xs text-slate-500 border-t border-slate-100 pt-4">
        <div class="flex items-center gap-1">
          <lucide-icon [img]="ShieldIcon" [size]="12" />
          <span>Secure</span>
        </div>
        <div class="flex items-center gap-1">
          <lucide-icon [img]="TargetIcon" [size]="12" />
          <span>24hr delivery</span>
        </div>
        <div class="flex items-center gap-1">
          <lucide-icon [img]="CheckIcon" [size]="12" />
          <span>Guaranteed</span>
        </div>
      </div>

      <!-- Collapse -->
      <button 
        type="button"
        (click)="toggleExpanded()"
        class="w-full text-xs text-slate-500 hover:text-slate-700 py-2 transition-colors"
      >
        Collapse
      </button>
    </div>
  }
</div>
