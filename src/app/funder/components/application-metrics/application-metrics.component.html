<!-- src/app/funder/components/application-detail/components/application-metrics/application-metrics.component.html -->
<div class="space-y-6">
  <!-- Application Overview -->
  <div>
    <h3 class="text-base font-semibold text-gray-900 mb-4">
      Application Overview
    </h3>
    <div class="grid grid-cols-3 gap-4">
      @if (requestedAmount()) {
      <div class="bg-blue-50 rounded-lg p-4 border border-blue-100">
        <div class="flex items-center gap-2 mb-2">
          <lucide-icon [img]="DollarSignIcon" class="w-4 h-4 text-blue-600" />
          <span class="text-xs font-medium text-blue-900"
            >Requested Amount</span
          >
        </div>
        <p class="text-lg font-bold text-blue-900">
          {{ formatCurrency(requestedAmount()!, opportunity.currency) }}
        </p>
      </div>
      } @if (opportunity.offerAmount) {
      <div class="bg-green-50 rounded-lg p-4 border border-green-100">
        <div class="flex items-center gap-2 mb-2">
          <lucide-icon [img]="DollarSignIcon" class="w-4 h-4 text-green-600" />
          <span class="text-xs font-medium text-green-900"
            >Available Funding</span
          >
        </div>
        <p class="text-lg font-bold text-green-900">
          {{ formatCurrency(opportunity.offerAmount, opportunity.currency) }}
        </p>
      </div>
      } @if (timeline()) {
      <div class="bg-purple-50 rounded-lg p-4 border border-purple-100">
        <div class="flex items-center gap-2 mb-2">
          <lucide-icon [img]="CalendarIcon" class="w-4 h-4 text-purple-600" />
          <span class="text-xs font-medium text-purple-900">Timeline</span>
        </div>
        <p class="text-lg font-bold text-purple-900">{{ timeline() }}</p>
      </div>
      }
    </div>
  </div>

  <!-- Purpose & Use of Funds -->
  @if (purposeStatement() || useOfFunds()) {
  <div>
    <h3 class="text-base font-semibold text-gray-900 mb-3">
      Purpose & Use of Funds
    </h3>
    <div class="space-y-3">
      @if (purposeStatement()) {
      <div class="bg-gray-50 rounded-lg p-4">
        <div class="flex items-start gap-2 mb-2">
          <lucide-icon
            [img]="TargetIcon"
            class="w-4 h-4 text-gray-600 mt-0.5"
          />
          <span class="text-sm font-medium text-gray-900"
            >Purpose Statement</span
          >
        </div>
        <p class="text-sm text-gray-700 leading-relaxed">
          {{ purposeStatement() }}
        </p>
      </div>
      } @if (useOfFunds()) {
      <div class="bg-gray-50 rounded-lg p-4">
        <div class="flex items-start gap-2 mb-2">
          <lucide-icon
            [img]="FileTextIcon"
            class="w-4 h-4 text-gray-600 mt-0.5"
          />
          <span class="text-sm font-medium text-gray-900"
            >Detailed Use of Funds</span
          >
        </div>
        <p class="text-sm text-gray-700 leading-relaxed">{{ useOfFunds() }}</p>
      </div>
      }
    </div>
  </div>
  }

  <!-- Business Information -->
  @if (businessInfo()) {
  <div>
    <h3 class="text-base font-semibold text-gray-900 mb-3">
      Business Information
    </h3>
    <div class="bg-gray-50 rounded-lg p-4 space-y-3">
      <div class="grid grid-cols-2 gap-4">
        @if (businessInfo()!.companyName) {
        <div class="flex items-start gap-3">
          <lucide-icon
            [img]="BuildingIcon"
            class="w-4 h-4 text-gray-500 mt-0.5"
          />
          <div class="flex-1 min-w-0">
            <p class="text-xs text-gray-500">Company Name</p>
            <p class="text-sm font-medium text-gray-900 truncate">
              {{ businessInfo()!.companyName }}
            </p>
          </div>
        </div>
        } @if (businessInfo()!.registrationNumber) {
        <div class="flex items-start gap-3">
          <lucide-icon [img]="HashIcon" class="w-4 h-4 text-gray-500 mt-0.5" />
          <div class="flex-1 min-w-0">
            <p class="text-xs text-gray-500">Registration Number</p>
            <p class="text-sm font-medium text-gray-900">
              {{ businessInfo()!.registrationNumber }}
            </p>
          </div>
        </div>
        } @if (businessInfo()!.industry) {
        <div class="flex items-start gap-3">
          <lucide-icon
            [img]="BriefcaseIcon"
            class="w-4 h-4 text-gray-500 mt-0.5"
          />
          <div class="flex-1 min-w-0">
            <p class="text-xs text-gray-500">Industry</p>
            <p class="text-sm font-medium text-gray-900">
              {{ businessInfo()!.industry }}
            </p>
          </div>
        </div>
        } @if (businessInfo()!.yearsInOperation) {
        <div class="flex items-start gap-3">
          <lucide-icon
            [img]="CalendarIcon"
            class="w-4 h-4 text-gray-500 mt-0.5"
          />
          <div class="flex-1 min-w-0">
            <p class="text-xs text-gray-500">Years in Operation</p>
            <p class="text-sm font-medium text-gray-900">
              {{ businessInfo()!.yearsInOperation }} years
            </p>
          </div>
        </div>
        } @if (businessInfo()!.numberOfEmployees) {
        <div class="flex items-start gap-3">
          <lucide-icon [img]="UsersIcon" class="w-4 h-4 text-gray-500 mt-0.5" />
          <div class="flex-1 min-w-0">
            <p class="text-xs text-gray-500">Employees</p>
            <p class="text-sm font-medium text-gray-900">
              {{ businessInfo()!.numberOfEmployees }}
            </p>
          </div>
        </div>
        } @if (getFullAddress()) {
        <div class="flex items-start gap-3 col-span-2">
          <lucide-icon
            [img]="MapPinIcon"
            class="w-4 h-4 text-gray-500 mt-0.5"
          />
          <div class="flex-1 min-w-0">
            <p class="text-xs text-gray-500">Physical Address</p>
            <p class="text-sm font-medium text-gray-900">
              {{ getFullAddress() }}
            </p>
          </div>
        </div>
        }
      </div>
    </div>
  </div>
  }

  <!-- Contact Information -->
  @if (personalInfo()) {
  <div>
    <h3 class="text-base font-semibold text-gray-900 mb-3">Primary Contact</h3>
    <div class="bg-gray-50 rounded-lg p-4">
      <div class="grid grid-cols-2 gap-4">
        @if (personalInfo()!.firstName || personalInfo()!.lastName) {
        <div class="flex items-start gap-3">
          <lucide-icon [img]="UserIcon" class="w-4 h-4 text-gray-500 mt-0.5" />
          <div class="flex-1 min-w-0">
            <p class="text-xs text-gray-500">Name</p>
            <p class="text-sm font-medium text-gray-900">
              {{ personalInfo()!.firstName }} {{ personalInfo()!.lastName }}
            </p>
          </div>
        </div>
        } @if (personalInfo()!.position) {
        <div class="flex items-start gap-3">
          <lucide-icon
            [img]="BriefcaseIcon"
            class="w-4 h-4 text-gray-500 mt-0.5"
          />
          <div class="flex-1 min-w-0">
            <p class="text-xs text-gray-500">Position</p>
            <p class="text-sm font-medium text-gray-900">
              {{ personalInfo()!.position }}
            </p>
          </div>
        </div>
        } @if (personalInfo()!.email) {
        <div class="flex items-start gap-3">
          <lucide-icon [img]="MailIcon" class="w-4 h-4 text-gray-500 mt-0.5" />
          <div class="flex-1 min-w-0">
            <p class="text-xs text-gray-500">Email</p>
            <p class="text-sm font-medium text-gray-900 truncate">
              {{ personalInfo()!.email }}
            </p>
          </div>
        </div>
        } @if (personalInfo()!.phone) {
        <div class="flex items-start gap-3">
          <lucide-icon [img]="PhoneIcon" class="w-4 h-4 text-gray-500 mt-0.5" />
          <div class="flex-1 min-w-0">
            <p class="text-xs text-gray-500">Phone</p>
            <p class="text-sm font-medium text-gray-900">
              {{ personalInfo()!.phone }}
            </p>
          </div>
        </div>
        }
      </div>
    </div>
  </div>
  }

  <!-- Financial Overview -->
  @if (financialInfo()) {
  <div>
    <h3 class="text-base font-semibold text-gray-900 mb-3">
      Financial Overview
    </h3>
    <div class="bg-gray-50 rounded-lg p-4">
      <div class="grid grid-cols-2 gap-4">
        @if (financialInfo()!.annualRevenue) {
        <div class="flex items-start gap-3">
          <lucide-icon
            [img]="TrendingUpIcon"
            class="w-4 h-4 text-gray-500 mt-0.5"
          />
          <div class="flex-1 min-w-0">
            <p class="text-xs text-gray-500">Annual Revenue</p>
            <p class="text-sm font-semibold text-gray-900">
              {{ financialInfo()!.annualRevenue }}
            </p>
          </div>
        </div>
        } @if (financialInfo()!.monthlyRevenue) {
        <div class="flex items-start gap-3">
          <lucide-icon
            [img]="DollarSignIcon"
            class="w-4 h-4 text-gray-500 mt-0.5"
          />
          <div class="flex-1 min-w-0">
            <p class="text-xs text-gray-500">Monthly Revenue</p>
            <p class="text-sm font-semibold text-gray-900">
              {{ financialInfo()!.monthlyRevenue }}
            </p>
          </div>
        </div>
        } @if (financialInfo()!.profitMargin) {
        <div class="flex items-start gap-3">
          <lucide-icon
            [img]="TrendingUpIcon"
            class="w-4 h-4 text-gray-500 mt-0.5"
          />
          <div class="flex-1 min-w-0">
            <p class="text-xs text-gray-500">Profit Margin</p>
            <p class="text-sm font-semibold text-gray-900">
              {{ financialInfo()!.profitMargin }}
            </p>
          </div>
        </div>
        } @if (financialInfo()!.creditRating) {
        <div class="flex items-start gap-3">
          <lucide-icon
            [img]="CreditCardIcon"
            class="w-4 h-4 text-gray-500 mt-0.5"
          />
          <div class="flex-1 min-w-0">
            <p class="text-xs text-gray-500">Credit Rating</p>
            <p class="text-sm font-semibold text-gray-900">
              {{ financialInfo()!.creditRating }}
            </p>
          </div>
        </div>
        } @if (financialInfo()!.existingDebt) {
        <div class="flex items-start gap-3 col-span-2">
          <lucide-icon
            [img]="DollarSignIcon"
            class="w-4 h-4 text-gray-500 mt-0.5"
          />
          <div class="flex-1 min-w-0">
            <p class="text-xs text-gray-500">Existing Debt</p>
            <p class="text-sm font-semibold text-gray-900">
              {{ financialInfo()!.existingDebt }}
            </p>
          </div>
        </div>
        }
      </div>
    </div>
  </div>
  }

  <!-- Leadership Team -->
  @if (managementTeam().length > 0 || boardOfDirectors().length > 0) {
  <div>
    <h3 class="text-base font-semibold text-gray-900 mb-3">
      Leadership & Governance
    </h3>
    <div class="space-y-3">
      @if (managementTeam().length > 0) {
      <div class="bg-gray-50 rounded-lg p-4">
        <div class="flex items-center gap-2 mb-3">
          <lucide-icon [img]="UsersIcon" class="w-4 h-4 text-gray-600" />
          <span class="text-sm font-medium text-gray-900">Management Team</span>
          <span class="text-xs text-gray-500"
            >({{ managementTeam().length }})</span
          >
        </div>
        <div class="space-y-2">
          @for (member of managementTeam(); track $index) {
          <div
            class="flex items-center justify-between py-2 border-b border-gray-200 last:border-0"
          >
            <div>
              <p class="text-sm font-medium text-gray-900">
                {{ member.fullName }}
              </p>
              <p class="text-xs text-gray-500">{{ member.role }}</p>
            </div>
            @if (member.yearsOfExperience) {
            <span class="text-xs text-gray-500">
              {{ member.yearsOfExperience }} years exp.
            </span>
            }
          </div>
          }
        </div>
      </div>
      } @if (boardOfDirectors().length > 0) {
      <div class="bg-gray-50 rounded-lg p-4">
        <div class="flex items-center gap-2 mb-3">
          <lucide-icon [img]="UsersIcon" class="w-4 h-4 text-gray-600" />
          <span class="text-sm font-medium text-gray-900"
            >Board of Directors</span
          >
          <span class="text-xs text-gray-500"
            >({{ boardOfDirectors().length }})</span
          >
        </div>
        <div class="space-y-2">
          @for (member of boardOfDirectors(); track $index) {
          <div
            class="flex items-center justify-between py-2 border-b border-gray-200 last:border-0"
          >
            <div>
              <p class="text-sm font-medium text-gray-900">
                {{ member.fullName }}
              </p>
              <p class="text-xs text-gray-500">{{ member.role }}</p>
            </div>
          </div>
          }
        </div>
      </div>
      }
    </div>
  </div>
  }

  <!-- SWOT Analysis Summary -->
  @if (swotAnalysis()) {
  <div>
    <h3 class="text-base font-semibold text-gray-900 mb-3">
      Strategic Analysis
    </h3>
    <div class="grid grid-cols-2 gap-3">
      @if (swotAnalysis()!.strengths.length) {
      <div class="bg-green-50 rounded-lg p-3 border border-green-100">
        <p class="text-xs font-semibold text-green-900 mb-2">Strengths</p>
        <p class="text-xs text-green-700">
          {{ swotAnalysis()!.strengths.length }} identified
        </p>
      </div>
      } @if (swotAnalysis()!.opportunities.length) {
      <div class="bg-blue-50 rounded-lg p-3 border border-blue-100">
        <p class="text-xs font-semibold text-blue-900 mb-2">Opportunities</p>
        <p class="text-xs text-blue-700">
          {{ swotAnalysis()!.opportunities.length }} identified
        </p>
      </div>
      } @if (swotAnalysis()!.weaknesses.length) {
      <div class="bg-orange-50 rounded-lg p-3 border border-orange-100">
        <p class="text-xs font-semibold text-orange-900 mb-2">Weaknesses</p>
        <p class="text-xs text-orange-700">
          {{ swotAnalysis()!.weaknesses.length }} identified
        </p>
      </div>
      } @if (swotAnalysis()!.threats.length) {
      <div class="bg-red-50 rounded-lg p-3 border border-red-100">
        <p class="text-xs font-semibold text-red-900 mb-2">Threats</p>
        <p class="text-xs text-red-700">
          {{ swotAnalysis()!.threats.length }} identified
        </p>
      </div>
      }
    </div>
  </div>
  }
</div>
