  <div class="space-y-6">
      
      <!-- Applications Overview Header -->
      <div class="section-card">
        <div class="section-header">
          <div class="flex items-center justify-between">
            <div>
              <h2 class="section-title">All Applications</h2>
              <p class="section-description">Manage applications across all your opportunities</p>
            </div>
            <ui-button variant="outline" size="sm" (clicked)="refreshApplicationsData()">
              <lucide-icon [img]="ArrowRightIcon" [size]="14" class="mr-2" />
              Refresh
            </ui-button>
          </div>
        </div>
        
        <!-- Application Stats -->
        @if (applicationStats() && !applicationsLoading()) {
          <div class="p-6 border-b border-gray-100">
            <div class="grid grid-cols-1 sm:grid-cols-4 gap-6">
              <div class="text-center">
                <div class="text-2xl font-bold text-blue-600">{{ applicationStats()!.total }}</div>
                <div class="text-sm text-gray-600">Total Applications</div>
              </div>
              <div class="text-center">
                <div class="text-2xl font-bold text-orange-600">{{ applicationsInReview().length }}</div>
                <div class="text-sm text-gray-600">In Review</div>
              </div>
              <div class="text-center">
                <div class="text-2xl font-bold text-green-600">{{ applicationStats()!.byStatus['approved'] || 0 }}</div>
                <div class="text-sm text-gray-600">Approved</div>
              </div>
              <div class="text-center">
                <div class="text-2xl font-bold text-cyan-600">{{ applicationStats()!.averageProcessingTime }}</div>
                <div class="text-sm text-gray-600">Avg. Processing Days</div>
              </div>
            </div>
          </div>
        }

        <!-- Filters -->
        <div class="p-6 border-b border-gray-100 bg-gray-50">
          <div class="flex items-center gap-4">
            <div class="flex-1">
              <label for="opportunity-filter" class="block text-sm font-medium text-gray-700 mb-1">
                Filter by Opportunity
              </label>
              <select
                id="opportunity-filter"
                [value]="selectedOpportunityFilter()"
                (change)="onOpportunityFilterChange($event)"
                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm"
              >
                <option value="">All Opportunities</option>
                @for (opportunity of uniqueOpportunities(); track opportunity.id) {
                  <option [value]="opportunity.id">{{ opportunity.title }}</option>
                }
              </select>
            </div>
            
            <div class="text-sm text-gray-600 mt-6">
              Showing {{ filteredApplications().length }} of {{ allApplications().length }} applications
            </div>
          </div>
        </div>
      </div>

      <!-- Applications List -->
      @if (applicationsLoading()) {
        <div class="section-card">
          <div class="p-12 text-center">
            <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-4"></div>
            <p class="text-gray-600">Loading applications...</p>
          </div>
        </div>
      } @else if (applicationsError()) {
        <div class="section-card">
          <div class="p-12 text-center">
            <div class="w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4">
              <lucide-icon [img]="AlertCircleIcon" [size]="24" class="text-red-600" />
            </div>
            <h3 class="text-lg font-semibold text-gray-900 mb-2">Error Loading Applications</h3>
            <p class="text-gray-600 mb-4">{{ applicationsError() }}</p>
            <ui-button variant="outline" (clicked)="refreshApplicationsData()">
              Try Again
            </ui-button>
          </div>
        </div>
      } @else if (filteredApplications().length === 0) {
        <div class="section-card">
          <div class="empty-state">
            <div class="empty-icon">
              <lucide-icon [img]="FileTextIcon" [size]="32" class="text-gray-400" />
            </div>
            <h3 class="empty-title">No applications found</h3>
            <p class="empty-description">
              @if (selectedOpportunityFilter()) {
                No applications found for the selected opportunity.
              } @else {
                Applications will appear here once SMEs start applying to your opportunities.
              }
            </p>
            @if (selectedOpportunityFilter()) {
              <ui-button variant="outline" (clicked)="clearFilter()">
                Show All Applications
              </ui-button>
            }
          </div>
        </div>
      } @else {
        <!-- Recent Applications Section -->
        @if (!selectedOpportunityFilter()) {
          <div class="section-card">
            <div class="section-header">
              <h3 class="section-title">Recent Activity</h3>
              <p class="section-description">Latest application updates</p>
            </div>
            <div class="p-6">
              <div class="space-y-4">
                @for (application of recentApplicationsComputed().slice(0, 5); track application.id) {
                  <app-application-list-card
                    [application]="transformToApplicationCard(application)"
                    [userType]="'funder'"
                    [showProgress]="false"
                    (viewDetails)="viewApplication($event.id)"
                  >
                    <div slot="actions" class="flex items-center gap-2">
                      <ui-button variant="outline" size="sm" (clicked)="viewApplication(application.id)">
                        <lucide-icon [img]="EyeIcon" [size]="14" class="mr-1" />
                        Review
                      </ui-button>
                      <!-- TODO LATER -->
                      <!-- @if (application.status === 'submitted') {
                        <ui-button variant="primary" size="sm" (clicked)="updateApplicationStatus(application.id, 'under_review')">
                          Review
                        </ui-button>
                      } -->
                    </div>
                  </app-application-list-card>
                }
              </div>
            </div>
          </div>
        }

        <!-- All Applications Section -->
        <div class="section-card">
          <div class="section-header">
            <h3 class="section-title">
              @if (selectedOpportunityFilter()) {
                Applications for Selected Opportunity
              } @else {
                All Applications
              }
            </h3>
            <p class="section-description">{{ filteredApplications().length }} applications total</p>
          </div>
          <div class="p-6">
            <div class="space-y-4">
              @for (application of filteredApplications(); track application.id) {
                <app-application-list-card
                  [application]="transformToApplicationCard(application)"
                  [userType]="'funder'"
                  [showProgress]="true"
                  (viewDetails)="viewApplication($event.id)"
                >
                  <div slot="actions" class="flex items-center gap-2">
                    <ui-button variant="primary" size="sm" (clicked)="viewApplication(application.id)">
                      <lucide-icon [img]="EyeIcon" [size]="14" class="mr-1" />
                      View Details
                    </ui-button>
                       <!-- TODO LATER -->
                    <!-- @if (application.status === 'submitted') {
                      <ui-button variant="outline" size="sm" (clicked)="updateApplicationStatus(application.id, 'under_review')">
                        Start Review
                      </ui-button>
                    }
                     -->
                    @if (application.status === 'under_review') {
                      <ui-button variant="primary" size="sm" (clicked)="updateApplicationStatus(application.id, 'approved')">
                        Approve
                      </ui-button>
                      <ui-button variant="outline" size="sm" (clicked)="updateApplicationStatus(application.id, 'rejected')">
                        Reject
                      </ui-button>
                    }
                  </div>
                </app-application-list-card>
              }
            </div>
          </div>
        </div>
      }
    </div>